<div ng-controller="RegisterBusinessCtrl">
	<div class="page-heading-bar">
		<ng-include src="'views/componants/pageHeadingBar.html'"></ng-include>
	</div>
  	<div class="container bus-reg-content-wrapper">
		<div class="content-left">
			<div class="bus-reg-form">
				<form name="business_reg_form" novalidate ng-submit="business_reg_form.$valid && registerBusiness(busName, busCity, busDescription)">
					<div class="bus-reg-container bus-reg-details">
						<div class="bus-reg-tabs">
							<div>
								<p>Details</p>
							</div>
						</div>
						<div class="form-left">
							<div class="form-field">
								<label for="tbxName" class="form-label">Name</label>
								<input id="tbxName" name="name" ng-class="{'reg-form-error-outline' : submitted && business_reg_form.name.$invalid || business_reg_form.name.$dirty && business_reg_form.name.$invalid}" type="text" ng-model="busName" placeholder="e.g. The Little Pizza" required>
								<div class="reg-form-error-message" ng-show="submitted && business_reg_form.name.$invalid || business_reg_form.name.$dirty && business_reg_form.name.$invalid"><i class="fa fa-exclamation fa-lg"></i> Name is required</div>
							</div>
							<div class="form-field" ng-init='loadNationalities()'>
								<label for="lstNat" class="form-label">Nationality</label>
								<select id="lstNat" name="nat" ng-class="{'reg-form-error-outline' : submitted && business_reg_form.nat.$invalid || business_reg_form.nat.$dirty && business_reg_form.nat.$invalid}" ng-model="busNationality" required>
									<option value="" disabled selected>Select Nationality</option>
									<option ng-repeat="option in nationalities | limitTo:200 track by $index" value="{{option.NationalityID}}">{{option.NationalityName}}</option>
								</select>
								<div class="reg-form-error-message" ng-show="submitted && business_reg_form.nat.$invalid || business_reg_form.nat.$dirty && business_reg_form.nat.$invalid"><i class="fa fa-exclamation fa-lg"></i> Nationality is required</div>
							</div>	
							<div class="form-field" ng-init='loadCategories()'>
								<label for="lstCat" class="form-label">Category</label>
								<select id="lstCat" name="cat" ng-class="{'reg-form-error-outline' : submitted && business_reg_form.cat.$invalid || business_reg_form.cat.$dirty && business_reg_form.cat.$invalid}" ng-model="busCategory" required>
									<option value="" disabled selected>Select Category</option>
									<option ng-repeat="option in categories | limitTo:4 track by $index" value="{{option.CategoryID}}">{{option.CategoryName}}</option>
								</select>
								<div class="reg-form-error-message" ng-show="submitted && business_reg_form.cat.$invalid || business_reg_form.cat.$dirty && business_reg_form.cat.$invalid"><i class="fa fa-exclamation fa-lg"></i> Category is required</div>
							</div>
							<div class="form-field">
								<label class="form-label">Phone</label>
								<input type="text" ng-model="busPhone" placeholder="e.g. 071 914 2342">
							</div>
							<div class="form-field">
								<label class="form-label">Website</label>
								<input type="text" ng-model="busWebsite" placeholder="e.g. www.littlepizza.ie">
							</div>
							<div class="form-field">
								<label for="tblkDes" class="form-label">Description</label>
								<textarea id="tblkDes" name="des" ng-class="{'reg-form-error-outline' : submitted && business_reg_form.des.$invalid || business_reg_form.des.$dirty && business_reg_form.des.$invalid}" maxlength="145" ng-model="busDescription" placeholder="e.g. Family friendly, tradiontal Italian pizzeria" required></textarea>
								<div class="reg-form-error-message" ng-show="submitted && business_reg_form.des.$invalid || business_reg_form.des.$dirty && business_reg_form.des.$invalid"><i class="fa fa-exclamation fa-lg"></i> Description is required</div>
							</div>
						</div>
						<div class="form-right">
							<div class="form-field">
								<label class="form-label">Opening Hours</label>
								<div class="opening-hours">
									<div class="opening-hours-day-tabs-mobile">
										<div ng-click="setDayClass($event)" class="opening-hours-day-top">Mon</div>
										<div ng-click="setDayClass($event)" class="opening-hours-day-top">Tue</div>
										<div ng-click="setDayClass($event)" class="opening-hours-day-top">Wed</div>
										<div ng-click="setDayClass($event)" class="opening-hours-day-bottom">Thu</div>
										<div ng-click="setDayClass($event)" class="opening-hours-day-bottom">Fri</div>
										<div ng-click="setDayClass($event)" class="opening-hours-day-bottom">Sat</div>
										<div ng-click="setDayClass($event)" class="opening-hours-day-bottom">Sun</div>
									</div>
									<div class="opening-hours-time-capsule">
										<div class="opening-hours-time-input">
											<label>From</label>
											<input type="time" ng-model="openTime">
										</div>
										<div class="opening-hours-time-input">
											<label>To</label>
											<input type="time" ng-model="closeTime">
										</div>
									</div>
									<input type="button" class="bus-reg-form-button" ng-click="addOpeningHours(openTime, closeTime)" value="Add Hours">
									<div>
										<div class="opening-hours-added-time">
											<label>Monday:</label>
											<p ng-show="openingHours[0].open == 'null'">Closed</p>
											<p ng-show="openingHours[0].open != 'null'">{{openingHours[0].open}} - {{openingHours[0].close}}</p>
										</div>
										<div class="opening-hours-added-time">
											<label>Tuesday:</label>
											<p ng-show="openingHours[1].open == 'null'">Closed</p>
											<p ng-show="openingHours[1].open != 'null'">{{openingHours[1].open}} - {{openingHours[0].close}}</p>
										</div>
										<div class="opening-hours-added-time">
											<label>Wednesday:</label>
											<p ng-show="openingHours[2].open == 'null'">Closed</p>
											<p ng-show="openingHours[2].open != 'null'">{{openingHours[2].open}} - {{openingHours[0].close}}</p>
										</div>
										<div class="opening-hours-added-time">
											<label>Thursday:</label>
											<p ng-show="openingHours[3].open == 'null'">Closed</p>
											<p ng-show="openingHours[3].open != 'null'">{{openingHours[3].open}} - {{openingHours[0].close}}</p>
										</div>
										<div class="opening-hours-added-time">
											<label>Friday:</label>
											<p ng-show="openingHours[4].open == 'null'">Closed</p>
											<p ng-show="openingHours[4].open != 'null'">{{openingHours[4].open}} - {{openingHours[0].close}}</p>
										</div>
										<div class="opening-hours-added-time">
											<label>Saturday:</label>
											<p ng-show="openingHours[5].open == 'null'">Closed</p>
											<p ng-show="openingHours[5].open != 'null'">{{openingHours[5].open}} - {{openingHours[0].close}}</p>
										</div>
										<div class="opening-hours-added-time">
											<label>Sunday:</label>
											<p ng-show="openingHours[6].open == 'null'">Closed</p>
											<p ng-show="openingHours[6].open != 'null'">{{openingHours[6].open}} - {{openingHours[0].close}}</p>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
					<div class="bus-reg-container bus-reg-location">
						<div class="bus-reg-tabs">
							<div>
								<p>Location</p>
							</div>
						</div>
						<div class="form-left">
							<div class="form-field">
								<label for="tbxAdd1" class="form-label">Address</label>
								<input id="tbxAdd1" name="add1" class="form-address-padding" ng-class="{'reg-form-error-outline' : address_submitted && business_reg_form.add1.$invalid || submitted && business_reg_form.add1.$invalid || business_reg_form.add1.$dirty && business_reg_form.add1.$invalid}" type="text" ng-model="busAddress" placeholder="e.g. 23 Swan Island" required>
								<input type="text" ng-model="busAddress2" placeholder="e.g. Main St.">
								<div class="reg-form-error-message" ng-show="address_submitted && business_reg_form.add1.$invalid || submitted && business_reg_form.add1.$invalid || business_reg_form.add1.$dirty && business_reg_form.add1.$invalid"><i class="fa fa-exclamation fa-lg"></i> Address1 is required</div>
							</div>
							<div class="form-field">
								<label for="tbxCity" class="form-label">City</label>
								<input id="tbxCity" name="city" ng-class="{'reg-form-error-outline' : address_submitted && business_reg_form.city.$invalid || submitted && business_reg_form.city.$invalid || business_reg_form.city.$dirty && business_reg_form.city.$invalid}" type="text" ng-model="busCity" placeholder="e.g. Sligo" required>
								<div class="reg-form-error-message" ng-show="address_submitted && business_reg_form.city.$invalid || submitted && business_reg_form.city.$invalid || business_reg_form.city.$dirty && business_reg_form.city.$invalid"><i class="fa fa-exclamation fa-lg"></i> City is required</div>
							</div>
							<div class="form-field">
								<label for="tbxCountry" class="form-label">Country</label>
								<input id="tbxCountry" name="country" ng-class="{'reg-form-error-outline' : address_submitted && business_reg_form.country.$invalid || submitted && business_reg_form.country.$invalid || business_reg_form.country.$dirty && business_reg_form.country.$invalid}" type="text" ng-model="busCountry" placeholder="e.g. Ireland" required>
								<div class="reg-form-error-message" ng-show="address_submitted && business_reg_form.country.$invalid || submitted && business_reg_form.country.$invalid || business_reg_form.country.$dirty && business_reg_form.country.$invalid"><i class="fa fa-exclamation fa-lg"></i> Country is required</div>
							</div>
							<input type="button" class="bus-reg-form-button" ng-click="getCoordinates(busAddress, busAddress2, busCity, busCountry); address_submitted=true" value="Find My Location">
						</div>
						<div class="form-right">
							<div id="mapLocation">
								<ui-gmap-google-map center='map.center' zoom='map.zoom'>
								    <ui-gmap-marker coords='busmarker.coords' idKey='busmarker.id' options="{icon: '/images/map_icons/your_location_icon.png'}"></ui-gmap-marker>
								</ui-gmap-google-map>
							</div>
						</div>
					</div>
					<div class="bus-reg-container bus-reg-personalize">
						<div class="bus-reg-tabs">
							<div>
								<p>Personalize</p>
							</div>
						</div>
						<div class="form-left">
						</div>
						<div class="form-right">
						</div>
					</div>
					<div class="bus-reg-buttons-container">
						<input type="submit" class="bus-reg-button bus-reg-button-yes" ng-click="submitted=true">
					</div>
				</form>
			</div>
		</div>
		<div class="content-right">
	    	<!--includes settings pannel-->
	    	<div ng-include="'views/componants/settingsPannel.html'"></div>
	    </div>
    </div>
</div>